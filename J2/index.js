import ExcalidrawDSLConverter from "./src/converter.js";
import clipboard from "clipboardy"; // ✅ Node-compatible clipboard

const dsl = [
  {
    id: "iron_head_outline",
    type: "freedraw",
    x: 200,
    y: 50,
    points: [
      [0, 0],
      [20, -10],
      [40, -20],
      [60, -25],
      [90, -25],
      [120, -20],
      [140, -10],
      [150, 10],
      [155, 40],
      [150, 80],
      [140, 120],
      [120, 150],
      [90, 170],
      [60, 170],
      [30, 150],
      [10, 120],
      [0, 80],
      [-5, 40],
      [0, 0],
    ],
    stroke: "k",
    strokeW: 3,
    fill: "r",
  },
  {
    id: "iron_faceplate",
    type: "freedraw",
    x: 210,
    y: 70,
    points: [
      [0, 0],
      [20, -10],
      [50, -15],
      [80, -15],
      [110, -10],
      [130, 0],
      [135, 30],
      [130, 70],
      [120, 100],
      [100, 120],
      [70, 130],
      [40, 120],
      [20, 100],
      [10, 70],
      [5, 30],
      [0, 0],
    ],
    stroke: "k",
    strokeW: 2,
    fill: "y",
  },
  {
    id: "eye_left",
    type: "freedraw",
    x: 235,
    y: 110,
    points: [
      [0, 0],
      [15, -5],
      [35, -5],
      [50, 0],
      [35, 5],
      [15, 5],
      [0, 0],
    ],
    stroke: "k",
    strokeW: 2,
    fill: "w",
  },
  {
    id: "eye_right",
    type: "freedraw",
    x: 305,
    y: 110,
    points: [
      [0, 0],
      [15, -5],
      [35, -5],
      [50, 0],
      [35, 5],
      [15, 5],
      [0, 0],
    ],
    stroke: "k",
    strokeW: 2,
    fill: "w",
  },
  {
    id: "helmet_top",
    type: "freedraw",
    x: 240,
    y: 50,
    points: [
      [0, 0],
      [20, -10],
      [40, -10],
      [60, -5],
      [80, 0],
      [70, 20],
      [40, 15],
      [10, 10],
      [0, 0],
    ],
    stroke: "k",
    strokeW: 2,
    fill: "r",
  },
  {
    id: "cheek_left",
    type: "freedraw",
    x: 210,
    y: 140,
    points: [
      [0, 0],
      [10, 20],
      [20, 40],
      [40, 50],
      [30, 20],
      [20, 10],
      [0, 0],
    ],
    stroke: "k",
    fill: "r",
  },
  {
    id: "cheek_right",
    type: "freedraw",
    x: 340,
    y: 140,
    points: [
      [0, 0],
      [-10, 20],
      [-20, 40],
      [-40, 50],
      [-30, 20],
      [-20, 10],
      [0, 0],
    ],
    stroke: "k",
    fill: "r",
  },
  {
    id: "jawline",
    type: "freedraw",
    x: 240,
    y: 180,
    points: [
      [0, 0],
      [20, 10],
      [50, 10],
      [80, 0],
      [70, 20],
      [40, 30],
      [10, 20],
      [0, 0],
    ],
    stroke: "k",
    strokeW: 2,
    fill: "y",
  },
];

// const excalidrawElements = ExcalidrawDSLConverter.toDSL(dslElement);
const excalidrawElements = ExcalidrawDSLConverter.fromDSL(dsl);

// Copy JSON string to clipboard
clipboard.writeSync(JSON.stringify(excalidrawElements, null, 2));

console.log("✅ Excalidraw elements copied to clipboard!");
